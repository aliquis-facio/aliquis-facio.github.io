---
layout: post
comments: true
sitemap:
  changefreq:
  priority:
title: "[COMPUTER VISION] Hough RANSAC"
excerpt: Edge와 Hough RANSAC
date: 2025-10-17
last_modified_at: 2025-10-17
categories:
  - COMPUTER VISION
tags:
  - COMPUTER_VISION
---

# 8. <font color="#ff0000">Hough RANSAC</font>

## 8.1. 에지 연결과 표현

- ![](2025-10-15-10.jpg)

| 성분  | 주변 에지 성분 개수 |
| --- | ----------- |
| 끝점  | 1           |
| 분기점 | 3개 이상       |
| 통과점 | 2           |

- 에지 성분만 표현하는 방법
	- 체인 코드: 에지(또는 이진 경계)를 **순회하며 방향만 기록**해 경계를 표현하는 방식이다
	- 에지 토막: 연결된 에지 픽셀을 **짧은 곡선/선분 단위의 폴리라인**으로 묶어 표현한다

> poly line: 여러 개의 선 부분이 연속적으로 연결된 곡선 또는 직선 형태의 경로

## 8.2. 선분 근사

- ![](2025-10-15-11.jpg)
- 두 끝점을 잇는 직선으로부터 가장 먼 점까지의 거리 $h$가 임계값 이내가 될 때까지 선분 분할을 재귀적으로 반복한다

## 8.3. 허프 변환(Hough Transform)


- ![](2025-10-15-12.jpg)
- 허프 변환: 차원의 변환, 좌표계의 변환
	- 에지 연결 과정 없이 선분 검출 (전역 연산을 이용한 지각 군집화)
	- 영상 공간 _y-x_ 를 기울기 절편 공간 _b-a_ 로 매핑
	- **일반 절차**: 파라미터 공간을 **격자(bin)** 로 이산화 → 영상의 각 에지점이 가능한 모든 파라미터 bin에 **투표** → 누적배열의 **피크**를 검출.
- ![](2025-10-15-13.jpg)
- 파라미터 범위가 무한, **수직선**에서 $m\to\infty$ 문제가 발생.
	- **극좌표** 대안: $\rho=x\cos\theta+y\sin\theta$
	- ![](2025-10-15-14.jpg)

- 원 검출: 3차원 누적 배열 사용
	- $(y - b)^2 + (x-a)^2 = r^2$
- **해석 관점**: 영상의 한 점 $(x_0,y_0)$은 허프 공간에서 **사인곡선**이며, **두 점 곡선의 교차**가 두 점을 지나는 직선의 파라미터.
![](_image/KakaoTalk_20251015_231020617_01%201.jpg)
---

## 3) 누적배열의 잡음·격자 이슈

- **잡음 효과**: 균일 잡음이 증가하면 **최대 득표 수치도 증가**하여 피크가 퍼지고 위치가 애매해진다. → bin 크기 선택, **누적배열 평활화(이웃 bin 증가)**, **강한 경사만 사용** 등으로 대응.

---

## 4) 원/일반 곡선 검출

- **원 검출**: 중심 $(a,b)$, 반지름 $r$로 **3차원 누적공간** 사용; 각 에지점·법선 정보로 투표(개념적으로는 $(x,y,r)$마다 원을 그려 **지지 정도** 평가).
- **일반화 허프(GHT)**: 템플릿의 기준점(센터)과 **랜드마크의 변위 벡터 분포**를 저장해 새로운 영상의 특징이 해당 분포로 **센터 후보에 투표**.

---

## 5) 암묵적 형태 모델(Implicit Shape Model, ISM)

- **훈련**: 관심점 주변 패치를 군집화해 **코드북** 구성 → 각 코드워드에 대해 **객체 중심까지의 변위들**을 저장.
- **검증(테스트)**: 특징–코드워드 매칭 → **객체 중심 위치에 투표** → 연속적 투표공간의 **클러스터**를 찾고, 템플릿/마스크로 **후검증**.

---

## 6) 허프 변환 토의(장·단점)

- **장점**: 비국소성/가림(occlusion) 처리, **복수 인스턴스** 검출, 잡음에 어느 정도 **강건**.
- **단점**: 파라미터 수가 늘면 **연산량이 지수적 증가**, **비목표 피크** 가능, **격자 크기 선택**이 어렵다.


---

## 7) RANSAC — 불량치(outlier) 견고 추정

- **정의/배경**: Fischler & Bolles(1981). 인라이어 집합을 찾아 **모델을 견고하게 적합**(무작위 표본 기반). 선분 검출에선 모델을 $y=ax+b$로 둔다.
- **기본 루프(가설–검증 반복)**
    1. **최소 표본** 무작위 선택 → 2) **모델 가설** → 3) **오차함수** 계산 → 4) **일치(inlier) 집합** 선택 → 5) **반복**.
- **확장 포인트**: **점-점 매칭쌍** $X={(a_i,b_i)}$ 입력도 처리하도록 일반화(기하 추정에 활용).

---

투표 기반(Voting) 아이디어

- **핵심 원리**: 특징점 각각이 “자신과 양립 가능한 모든 모델 파라미터”에 표를 던지고, 파라미터 공간의 **최댓값(피크)** 을 찾는다. 잡음 특징은 한 버킷에 일관되게 표를 모으기 어렵기 때문에 상대적으로 강건하다.

