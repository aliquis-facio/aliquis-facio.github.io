## 1. 클라우드 도입 배경 & 장점
### 1) 왜 클라우드를 쓰는가?

전통적인 온프레미스(자체 센터) 대비 클라우드는:

- **빠른 자원 제공**  
    몇 번 클릭/API 호출만으로 서버·DB·스토리지를 바로 생성 가능 → 프로젝트/서비스 출시 속도 크게 향상.
    
- **글로벌 서비스 용이**  
    전 세계 여러 리전에 데이터센터가 이미 있으므로, 가까운 리전에 배포만 하면 글로벌 서비스 가능.
    
- **탄력적인 확장/축소 (Auto Scaling)**  
    트래픽이 몰릴 때만 자원을 늘리고, 평소엔 줄여서 비용 절감.
    
- **고가용성(HA) 구조가 기본 제공**  
    여러 가용 영역(AZ)에 걸쳐 시스템 구성 → 한 센터 장애 시에도 서비스 유지.
    
- **보안 표준·인증 준수**  
    CSP(클라우드 제공자)가 ISO 27001, 개인정보 보호 관련 국제 표준 등을 충족하도록 운영.
    
- **높은 가시성(Visibility)**  
    API 기반이라, 모든 자원 상태·변경 이력·트래픽을 로그/메트릭으로 상세히 볼 수 있음.
    

---

## 2. 클라우드 보안의 핵심: 공유 책임 모델

클라우드 보안의 가장 중요한 개념이 **“공유 책임(Shared Responsibility)”**.

- **CSP(예: AWS)가 책임지는 것**
    
    - 물리 데이터센터 보안, 전원·냉각
        
    - 하이퍼바이저, 기본 네트워크 인프라
        
    - 관리형 서비스(예: RDS)에서 OS/DB 엔진 패치 등 _서비스 아래 단_의 보안
        
- **고객(이용자)가 책임지는 것**
    
    - OS 설정, 패치, 애플리케이션 보안
        
    - 계정/권한 관리(IAM), 데이터 암호화 설정
        
    - 보안 설정(보안 그룹, WAF 룰, 네트워크 정책)과 로그/모니터링 해석
        

서비스 종류별로 책임 범위가 다름:

- **EC2 (IaaS)**:  
    물리 인프라·하이퍼바이저는 AWS, 그 위에 올린 OS/미들웨어/앱/데이터는 고객 책임.
    
- **RDS 같은 관리형 DB**:  
    DB 엔진/OS 패치까지 AWS, 스키마 설계·계정/권한·쿼리 보안·데이터 암호화/접근통제는 고객.
    

면접에서 자주 나오는 질문:

> “클라우드 보안에서 CSP와 고객의 공유 책임은 어떻게 나뉘나요?”

---

## 3. AWS 물리/논리 구조와 가용성

### 1) 리전(Region) & 가용 영역(AZ)

- **리전(Region)**:  
    특정 국가/지역의 데이터센터 묶음 (예: ap-northeast-2 = 서울 리전).
    
- **가용 영역(AZ)**:  
    동일 리전 내 **물리적으로 분리된 데이터센터**들 (서울은 A~D 4개 AZ).
    

특징:

- AZ 간 거리는 **동일 재해의 영향은 피하면서**, 지연(latency)은 최소화되는 선으로 설계.
    
- 서버를 여러 AZ에 분산 배치 → 한 AZ에 화재·정전이 나도 다른 AZ에서 서비스 유지.
    

### 2) VPC & 서브넷 구조

- **VPC** = Virtual Private Cloud
    
    - 논리적으로 분리된 ‘나만의 데이터센터’
        
    - 하나의 VPC가 여러 AZ에 걸쳐 있음.
        
- **서브넷(Subnet)**
    
    - VPC 내부의 네트워크 구간 (예: 퍼블릭/프라이빗 서브넷)
        
    - 각 서브넷은 특정 AZ에 매핑 (다중 AZ로 구성 가능)
        

---

## 4. 계정 관리 & IAM (Identity and Access Management)

### 1) AWS 계정 구조

- **AWS Account(어카운트)**:
    
    - 이메일로 가입한 ‘루트 계정’이 1개 존재.
        
    - 이 계정 안에서 VPC/EC2/RDS 등 모든 리소스를 만들 수 있는 **컨테이너** 역할.
        
- **루트 계정(root)**:
    
    - 모든 권한을 가진 최상위 계정 → 사실상 “데이터센터 관리자”에 해당.
        
    - 보안상 **초기 설정/계정 생성에만 쓰고**, 이후에는 비활성화 수준으로 보관 + 반드시 MFA 적용.
        

### 2) IAM 보안 주체: User vs Role

- **IAM User (장기 자격 증명)**
    
    - ID/Password, Access Key(키 쌍)를 장기간 사용하는 계정.
        
- **IAM Role (임시 자격 증명)**
    
    - 필요할 때만 STS를 통해 **짧은 기간의 토큰**(임시 크리덴셜)을 발급받아 사용하는 형태.
        
    - 크리덴셜이 유출되어도 유효시간만 지나면 무효 → 보안상 **Role 기반이 훨씬 안전**.
        

> 실무 베스트 프랙티스:  
> **루트 계정 → IAM Admin Role → 각 서비스 별 최소 권한 Role** 구조로 사용.

### 3) 최소 권한 원칙 & 권한 분석

- **Least Privilege(최소 권한 원칙)**:
    
    - 사용자/시스템이 **업무에 반드시 필요한 권한만** 갖도록 제한.
        
- IAM에서 제공하는 기능:
    
    - 누가, 어느 리소스에, 어떤 액션을 할 수 있는지 정책(Policy)로 관리.
        
    - “Access Analyzer”/권한 분석기를 통해 **사용하지 않는 권한이나 과도한 외부 공개**를 탐지.
        

### 4) 계정·비밀번호 관리(서버/DB)

온프레미스와 동일하게, 클라우드에서도 서버/DB 계정 관리가 중요:

- **서버 계정 접근**:
    
    - 직접 서버로 SSH/RDP 붙지 않고, **Bastion(점프 서버)**나 계정 관리 솔루션을 통해 우회 접속.
        
- **비밀번호 관리 솔루션**:
    
    - 중앙에서 주기적으로 패스워드를 **자동 변경**하고, 접속 시 임시 비밀번호를 발급 또는 패스워드리스 토큰 사용.
        
- **MFA/OTP와 결합**:
    
    - 토큰(예: 물리 토큰, Google Authenticator 등)으로 2차 인증.
        

---

## 5. 네트워크 보안: Ingress / Egress / 내부 세그멘테이션

### 1) 세 가지 관점

1. **Ingress (인바운드)**:
    
    - 외부 사용자 → 서비스 진입 트래픽 (웹 서비스, API 호출 등)
        
2. **Egress (아웃바운드)**:
    
    - 내부 시스템 → 외부(인터넷/타 기관)로 나가는 트래픽
        
3. **내부 통신 (East-West)**:
    
    - 내부 서버 간 통신.
        
    - 침해 발생 시 **레터럴 무브먼트(횡이동)**를 막기 위해 내부 세그멘테이션이 중요.
        

### 2) 보안 그룹(SG) & 서드파티 방화벽

- **Security Group**:
    
    - AWS 리소스(ENI)에 붙는 **가상 방화벽**
        
    - 인바운드/아웃바운드 규칙(Port/IP)을 설정.
        
- **서드파티 방화벽(팔로알토, Fortinet 등)**:
    
    - 소프트웨어 기반 방화벽을 EC2 위에 설치해, 온프레미스처럼 DMZ/내부 구간을 구성 가능.
        

### 3) DDoS 방어 (L3 vs L7)

- **L3/L4 네트워크 레벨 디도스**:
    
    - 과거: 좀비PC로 트래픽 폭주 (TCP SYN Flood 등).
        
    - 현재: 클라우드/전용 디도스 대피소에서 L3/L4 트래픽을 흡수/필터.
        
- **L7 (애플리케이션 레벨) 디도스**:
    
    - DB를 많이 조회하는 특정 URL, 특정 메뉴를 노려서 CPU/쿼리 사용량을 폭발시키는 공격.
        
    - 방어:
        
        - **WAF(Web Application Firewall)**로 IP/헤더/요청 빈도 기반 차단 룰 설정
            
        - 일정 시간 내 요청 수가 비정상적으로 많은 클라이언트를 차단/Rate Limit.
            

### 4) 대표적인 AWS 레퍼런스 구조

- **CloudFront (CDN/엣지)** + **WAF**  
    → L3~L7 단계에서 1차 방어 + 정적 콘텐츠 캐싱.
    
- 뒤에 **ALB(로드 밸런서)**  
    → 여러 AZ의 EC2/컨테이너로 트래픽 분산 + 오토 스케일링.
    

---

## 6. 암호화 & 키 관리 (KMS/ACM)

### 1) 전송 구간(Transit) 암호화

- **클라우드 내부 링크 암호화**:
    
    - AZ 간, 리전 간 통신은 CSP가 자동으로 암호화 수행 (Nitro 하이퍼바이저 등).
        
- **인터넷 구간 암호화**:
    
    - HTTPS(TLS) 기반으로 웹/API 트래픽 암호화.
        
    - 인증서를 직접 사지 않고 **ACM(AWS Certificate Manager)**를 사용해 무료로 발급/갱신 가능.
        

### 2) 저장 구간(At Rest) 암호화

- **KMS(Key Management Service)**
    
    - 암호화 키 생성/보관/회전 관리 서비스.
        
- KMS 키를 사용하여:
    
    - S3 객체 암호화
        
    - EBS 볼륨 암호화
        
    - RDS/EFS 등 저장소 암호화
        

### 3) 서버 사이드 vs 클라이언트 사이드 암호화

- **Server-side Encryption (SSE)**:
    
    - 스토리지에 저장될 때 CSP가 자동으로 암호화/복호화 처리.
        
- **Client-side Encryption (CSE)**:
    
    - 애플리케이션이 **저장 전에 직접 암호화** → 클라우드는 암호문만 저장.
        
- 중요 인프라(국가 기반 등)는 **이중 암호화** 요구:
    
    - 한 번은 자체 키(CSE), 한 번은 CSP 키(SSE-KMS)로 암호화.
        

---

## 7. 로그 & 모니터링

### 1) 주요 로그 종류

- **WAF 로그**:
    
    - 웹 공격 시도/차단 이력.
        
- **VPC Flow Logs**:
    
    - 출발지/목적지 IP·Port, 프로토콜, bytes 송수신 등  
        → 내부/외부 유출 트래픽 패턴 파악 가능.
        
- **CloudTrail**:
    
    - “누가 언제 어떤 API를 호출했는지” 모든 관리 API 로그.  
        → 리소스 생성/삭제/변경, IAM 설정 변경 추적에 필수.
        

### 2) 중앙 로그 계정 & 무결성(변조 방지)

- 여러 계정/리전에서 발생하는 로그를 **전용 “로그 아카이브 계정”**의 S3에 모아서 보관.
    
- 로그 조회용 계정은 **읽기만 가능**, 쓰기/삭제 권한은 서비스만 갖도록 설계.
    
- **S3 Object Lock (컴플라이언스 모드)**:
    
    - 지정된 기간 동안 삭제/수정 불가(WORM: Write Once, Read Many).
        
    - 랜섬웨어나 내부자에 의한 로그 삭제 위험 줄이는 데 사용.
        

### 3) GuardDuty · 보안 이벤트 분석

- **Amazon GuardDuty**:
    
    - CloudTrail, VPC Flow Logs, DNS Logs 등 다양한 로그를 ML/위협 인텔 기반으로 분석해  
        **이상 징후/침해 가능성**을 알림.
        

---

## 8. 가상화 계층 보안: Hypervisor vs Container, CNAPP

### 1) 하이퍼바이저 vs 컨테이너

- **하이퍼바이저 방식**:
    
    - 물리 서버 위에 하이퍼바이저(VMware, Xen, Nitro 등) → 그 위에 여러 VM(Guest OS) 실행.
        
- **컨테이너 방식 (Docker, Kubernetes)**:
    
    - 하나의 OS 커널 위에서 컨테이너 단위로 앱과 의존성만 묶어 실행.
        
    - 경량, 빠른 배포, 자동 오케스트레이션(K8s 클러스터).
        

### 2) 클라우드 네이티브 보안 용어 정리

- **CSPM** (Cloud Security Posture Management):
    
    - 클라우드 리소스 설정이 보안 기준에 맞는지 점검하는 솔루션.
        
- **CWPP** (Cloud Workload Protection Platform):
    
    - VM/컨테이너/서버리스 등 워크로드 자체의 취약점/런타임 위협을 모니터링/차단.
        
- **CIEM** (Cloud Infrastructure Entitlement Management):
    
    - IAM 권한·정책을 분석해 과도한 권한/외부 노출 탐지.
        
- **CNAPP** (Cloud Native Application Protection Platform):
    
    - 위 세 가지를 통합한 “클라우드 애플리케이션 통합 보안 플랫폼” 개념.
        

### 3) 이미지 빌드 & 런타임 보안

- **안전한 이미지 빌드 파이프라인**:
    
    - 기준 OS, 보안 설정, 에이전트(모니터링/백신) 등을 포함한 **골든 이미지** 생성.
        
    - Auto Scaling 시 이 이미지로만 인스턴스 생성 → **속도 + 보안** 모두 만족.
        
- **런타임 모니터링**:
    
    - 악성코드 탐지, 이상 프로세스 행동 감시, 메모리 기반 공격(BPFdoor 같은) 탐지.
        
- **AWS 예시**:
    
    - Inspector: 취약점 스캔/구성 점검.
        
    - GuardDuty + Agent: 런타임 위협 모니터링.
        

---

## 9. 리소스 인벤토리 & 보안 설정 관리

### 1) 리소스 식별

- 클라우드에서는 물리 장비 대신 API로 모든 리소스를 관리 →  
    **API 로그(CloudTrail)**를 기반으로 현재 사용 중인 리소스를 역으로 식별 가능.
    
- AWS 예시: **Resource Explorer**로 계정/리전에 흩어진 리소스를 검색/조회.
    

### 2) CSPM + Config + Security Hub

- **AWS Config**:
    
    - 리소스 설정이 정책/보안 기준에 맞는지 _규칙_으로 검사.
        
    - 예: “0.0.0.0/0으로 22포트 열려 있으면 비정상으로 표시”.
        
- **Security Hub**:
    
    - GuardDuty, Inspector, Config 등 여러 보안 서비스의 결과를 한 화면에서 통합 관리.
        

구조 흐름:

1. API 호출 → CloudTrail 로그 기록
    
2. Config 규칙이 해당 변경 이벤트를 감지
    
3. 규칙 위반이면 Security Hub에 Findings로 집계
    
4. 필요하면 Lambda/자동화로 remediate (설정 되돌리기 등).
    

---

## 10. DB/스토리지 가용성과 복제

### 1) RDS Multi-AZ (동기식 복제)

- **동기식 복제**:
    
    - Primary DB에 쓰기 → Standby DB의 디스크까지 복제가 완료되어야 커밋 완료.
        
    - 고가용성(장애시 자동 Failover)에 사용.
        

### 2) Read Replica (비동기 복제)

- **비동기식 복제**:
    
    - Primary에서 발생한 변경 로그를 나중에 Read Replica에 적용.
        
    - 읽기 트래픽 분산에 사용 (읽기 전용).
        
    - 데이터는 _약간 지연_될 수 있음.
        

### 3) Aurora 스토리지 구조

- 오로라(Aurora)는 오브젝트 스토리지 기반의 분산 스토리지 사용:
    
    - 3개 AZ × 각 2개 = **6개 복제본**에 데이터 블록 저장.
        
    - 4개 이상이 정상일 때만 커밋 인정(Quorum 방식).
        
    - 일부 디스크/노드 장애 발생 시에도 데이터 일관성 유지 + 자동 복구.
        

## 12. 정리

- **클라우드 장점**: 빠른 자원 제공, 글로벌 서비스, 탄력 확장, 고가용성, 자동화, 보안 표준 준수, 높은 가시성
- **공유 책임 모델**:
    - CSP vs 고객 책임 구분 (EC2 vs RDS 등)
- **AWS 인프라 구조**: Region, AZ, VPC, Subnet, Transit/Edge
- **계정/권한 관리**:
    - 루트 계정 최소 사용, IAM User/Role, 장기 vs 단기 자격증명, MFA, 최소 권한, Access Analyzer
- **네트워크 보안**:
    - Ingress/Egress/Internal, Security Group, NGSW/서드파티 FW, DMZ, DDoS(L3/L7), CDN+WAF
- **암호화와 키 관리**:
    - HTTPS/TLS, ACM, KMS, SSE vs CSE, 이중 암호화
- **로깅/모니터링**:
    - CloudTrail, VPC Flow Logs, WAF Logs, GuardDuty, 중앙 로그 계정, S3 Object Lock(WORM)
- **클라우드 네이티브 보안**
    - Hypervisor vs Container, CSPM, CWPP, CIEM, CNAPP, Micro-segmentation, Runtime Protection
- **취약점/구성 관리**:
    - Resource Explorer, Config, Security Hub, Inspector
- **DB 가용성**:
    - Multi-AZ(동기), Read Replica(비동기), Aurora Quorum