/* --- Mobile drawer for #sidebar (SCSS) --- */
/* 재정의 가능 변수들 */
$drawer-width: 300px !default;
$drawer-overlay: rgba(0, 0, 0, .45) !default;
$drawer-z: 1000 !default;
$overlay-z: 900 !default;

/* CSS Custom Props로도 노출 (기존 var(--*) 사용 호환) */
:root {
  --drawer-width: #{$drawer-width};
  --drawer-overlay: #{$drawer-overlay};
  --drawer-z: #{$drawer-z};
  --overlay-z: #{$overlay-z};
}

@media (max-width: 1024px) {
  /* 햄버거 버튼(고정) */
  .drawer-hamburger {
    position: fixed;
    top: .75rem;
    left: .75rem;
    z-index: var(--drawer-z);
    border: 0;
    background: rgba(255, 255, 255, .9);
    padding: .5rem;
    border-radius: .5rem;
    box-shadow: 0 2px 10px rgba(0, 0, 0, .12);
    cursor: pointer;

    svg {
      display: block;
      width: 24px;
      height: 24px;
    }
  }

  /* 기존 #sidebar를 오프캔버스로 전환 */
  #sidebar {
    position: fixed !important;
    top: 0;
    left: 0;
    bottom: 0;
    width: var(--drawer-width);
    max-width: 86vw;
    background: inherit; // 테마 배경 유지
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    transform: translateX(-100%);
    transition: transform .25s ease;
    z-index: var(--drawer-z);
    box-shadow: 2px 0 24px rgba(0, 0, 0, .18);
  }

  body {
    &.drawer-open {
      overflow: hidden;

      #sidebar {
        transform: translateX(0);
      }
    }
  }

  /* 오버레이 */
  .drawer-overlay {
    position: fixed;
    inset: 0;
    background: var(--drawer-overlay);
    z-index: var(--overlay-z);
  }

  /* 본문이 상단 버튼과 겹치지 않게 여백 (상단바가 없다면 선택) */
  main.container {
    padding-top: 3.25rem;
  }
}
